{"ast":null,"code":"var _jsxFileName = \"/home/jainlavi2501/s3_Uploader/REACT/src/Components/Profile/Profile.js\";\nimport React from \"react\";\nimport Toast from 'light-toast';\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport { Container as ReactContainer, Row as ReactRow, Col as ReactCol } from \"react-grid\";\nimport \"./Profile.css\";\nimport Popup from \"reactjs-popup\";\nimport { getData, deleteData, uploadData } from \"../../APIs/API\";\nconst regex = new RegExp('[^.]+$');\nconst styles = {\n  breakpoints: {\n    xs: 0,\n    sm: 576,\n    md: 768,\n    lg: 992,\n    xl: 1200\n  },\n  containerMaxWidths: {\n    sm: 540,\n    md: 720,\n    lg: 960,\n    xl: 1140\n  },\n  columns: 2,\n  gutterWidth: 30\n};\nexport const Container = props => /*#__PURE__*/React.createElement(ReactContainer, Object.assign({}, props, {\n  styles: styles,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 3\n  }\n}));\nexport const Row = props => /*#__PURE__*/React.createElement(ReactRow, Object.assign({}, props, {\n  styles: styles,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 31\n  }\n}));\nexport const Col = props => /*#__PURE__*/React.createElement(ReactCol, Object.assign({}, props, {\n  styles: styles,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 31\n  }\n}));\nexport default class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleLogout = async () => {\n      let self = this;\n      let res = await axios.post(\"http://localhost:8000/signout\", {\n        email: this.state.mail\n      });\n\n      if (res.data.success) {\n        // console.log(res.data.message);\n        localStorage.removeItem(\"token\");\n        Toast.fail(res.data.message, 500);\n        self.setState({\n          submit: true,\n          firstname: \"\",\n          lastname: \"\",\n          mail: \"\"\n        });\n        self.setState({\n          submit: true\n        });\n      }\n    };\n\n    this.onFileUpload = async ev => {\n      ev.preventDefault(); // console.log(this.uploadInput.files.length)\n\n      const data = new FormData();\n\n      for (let i = 0; i < this.uploadInput.files.length; i++) {\n        data.append('file', this.uploadInput.files[i]);\n      }\n\n      data.append('email', this.state.mail);\n      let self = this;\n      Toast.loading('Uploading file...');\n      let uploaddata = await uploadData(data);\n      console.log('$$$$$$$', uploaddata); // console.log('$$$$$$$')\n\n      if (uploaddata.data.success) {\n        Toast.hide();\n        this.setState({\n          dataList: this.state.dataList\n        });\n        document.getElementById(\"uploader\").value = \"\"; // setTimeout(function () { self.getdata() }, 5000);\n\n        self.getdata();\n      }\n    };\n\n    this.onDelete = async item => {\n      let user = {\n        email: this.state.mail,\n        delete: item\n      };\n      let updatedList = await deleteData(user);\n\n      if (updatedList.data.success) {\n        this.setState({\n          submit: false\n        });\n        let gData = await getData(this.state.uid);\n        this.setState({\n          dataList: gData.data.data\n        });\n      }\n    };\n\n    const uInfo = JSON.parse(localStorage.getItem('token'));\n    this.state = {\n      firstname: uInfo.data.firstName || this.props.location.state.firstName,\n      lastname: uInfo.data.lastName || this.props.location.state.lastName,\n      mail: uInfo.data.email || this.props.location.state.email,\n      uid: uInfo.data.id || this.props.location.state.id,\n      submit: false,\n      selectedFile: null,\n      date: new Date(),\n      dataList: []\n    };\n    this.handleLogout = this.handleLogout.bind(this);\n  }\n\n  async getdata() {\n    // console.log(this.state.mail)\n    let gData = await getData(this.state.uid);\n    console.log(gData);\n\n    if (gData.data.success) {\n      this.setState({\n        dataList: gData.data.data\n      });\n      this.setState({\n        submit: false\n      });\n    }\n  }\n\n  async componentDidMount() {\n    this.getdata();\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    if (prevState.dataList !== this.state.dataList) {\n      this.setState({});\n    } // console.log(prevState, this.state.dataList)\n\n  }\n\n  render() {\n    let uData = this.state.dataList;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar navbar-expand-lg navbar-light fixed-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      style: {\n        textTransform: \"uppercase\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + '/aws-s3-icon.png',\n      style: {\n        blockSize: '1.5cm'\n      },\n      alt: \"s3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }), \"Welcome \\xA0\", \" \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, this.state.firstname)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse navbar-collapse\",\n      id: \"navbarTogglerDemo02\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-nav ml-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      trigger: /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 33\n        }\n      }, \"LOGOUT\"),\n      position: \"bottom left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 56\n      }\n    }, \"ARE YOU SURE?\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 56\n      }\n    }, \"Yes\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profileHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onFileUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, \"UPLOAD FILE:\", \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      multiple: true,\n      className: \"btn btn-primary \",\n      id: \"uploader\",\n      accept: \".png, .jpeg, .jpg, .pdf, .doc, .mp3\",\n      ref: ref => {\n        this.uploadInput = ref;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, \"UPLOAD TO s3\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      className: \"cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"rowHead\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 25\n      }\n    }, \"FILE NAME\")), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 25\n      }\n    }, \"FILE TYPE\")), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 25\n      }\n    }, \"FILE SIZE\")), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, \"UPLOADED ON\")), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 24\n      }\n    }, \"ACTION\"))), uData.map((item, key) => /*#__PURE__*/React.createElement(Row, {\n      className: \"rowData\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }\n    }, item.ftype === 'jpeg' || 'png' ? /*#__PURE__*/React.createElement(Popup, {\n      trigger: /*#__PURE__*/React.createElement(\"img\", {\n        src: item.file,\n        style: {\n          blockSize: '1cm'\n        },\n        alt: item.fType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 41\n        }\n      }),\n      on: \"hover\",\n      position: \"right top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.file,\n      style: {\n        blockSize: '10cm',\n        border: '0.2cm solid black'\n      },\n      alt: item.fType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 27\n      }\n    })) : item.fType === 'pdf' || 'doc' ? /*#__PURE__*/React.createElement(Popup, {\n      trigger: /*#__PURE__*/React.createElement(\"img\", {\n        src: item.file,\n        style: {\n          blockSize: '1cm'\n        },\n        alt: item.fType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 74\n        }\n      }),\n      on: \"hover\",\n      position: \"right top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 58\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + '/delete.png',\n      style: {\n        blockSize: '10cm',\n        border: '0.2cm solid black'\n      },\n      alt: item.fType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 27\n      }\n    })) : /*#__PURE__*/React.createElement(Popup, {\n      trigger: /*#__PURE__*/React.createElement(\"img\", {\n        src: item.file,\n        style: {\n          blockSize: '1cm'\n        },\n        alt: item.fType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 43\n        }\n      }),\n      on: \"hover\",\n      position: \"right top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.file,\n      style: {\n        blockSize: '10cm',\n        border: '0.2cm solid black'\n      },\n      alt: item.fType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 23\n      }\n    }, \" \", item.fName)), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }\n    }, \" \", item.fType), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }\n    }, item.fSize), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }\n    }, item.fDate), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: item.file,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + '/download.png',\n      style: {\n        blockSize: '0.5cm'\n      },\n      alt: \"Download\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    })), \" \\xA0\\xA0\", /*#__PURE__*/React.createElement(Popup, {\n      trigger: /*#__PURE__*/React.createElement(\"img\", {\n        src: process.env.PUBLIC_URL + '/delete.png',\n        id: \"overlay\",\n        style: {\n          blockSize: '0.5cm'\n        },\n        alt: \"Delete\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 37\n        }\n      }),\n      on: \"hover\",\n      position: \"bottom right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 62\n      }\n    }, \"ARE YOU SURE?\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => {\n        this.onDelete(item.fName);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 62\n      }\n    }, \"Yes\")))))))))), this.state.submit ? /*#__PURE__*/React.createElement(Redirect, {\n      to: `/signin`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 30\n      }\n    }) : null);\n  }\n\n}","map":{"version":3,"sources":["/home/jainlavi2501/s3_Uploader/REACT/src/Components/Profile/Profile.js"],"names":["React","Toast","axios","Redirect","Container","ReactContainer","Row","ReactRow","Col","ReactCol","Popup","getData","deleteData","uploadData","regex","RegExp","styles","breakpoints","xs","sm","md","lg","xl","containerMaxWidths","columns","gutterWidth","props","Profile","Component","constructor","handleLogout","self","res","post","email","state","mail","data","success","localStorage","removeItem","fail","message","setState","submit","firstname","lastname","onFileUpload","ev","preventDefault","FormData","i","uploadInput","files","length","append","loading","uploaddata","console","log","hide","dataList","document","getElementById","value","getdata","onDelete","item","user","delete","updatedList","gData","uid","uInfo","JSON","parse","getItem","firstName","location","lastName","id","selectedFile","date","Date","bind","componentDidMount","componentDidUpdate","prevProps","prevState","render","uData","textTransform","process","env","PUBLIC_URL","blockSize","textAlign","ref","map","key","ftype","file","fType","border","fName","fSize","fDate"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Toast from 'light-toast';\nimport axios from \"axios\";\nimport {\n  Redirect\n} from \"react-router-dom\";\nimport {\n  Container as ReactContainer,\n  Row as ReactRow,\n  Col as ReactCol\n} from \"react-grid\";\nimport \"./Profile.css\";\nimport Popup from \"reactjs-popup\";\nimport { getData, deleteData, uploadData } from \"../../APIs/API\";\nconst regex = new RegExp('[^.]+$');\n\nconst styles = {\n  breakpoints: { xs: 0, sm: 576, md: 768, lg: 992, xl: 1200 },\n  containerMaxWidths: { sm: 540, md: 720, lg: 960, xl: 1140 },\n  columns: 2,\n  gutterWidth: 30,\n};\nexport const Container = (props) => (\n  <ReactContainer {...props} styles={styles} />\n);\nexport const Row = (props) => <ReactRow {...props} styles={styles} />;\nexport const Col = (props) => <ReactCol {...props} styles={styles} />;\n\n\n\nexport default class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    const uInfo = JSON.parse(localStorage.getItem('token'))\n    this.state = {\n      firstname: uInfo.data.firstName || this.props.location.state.firstName,\n      lastname: uInfo.data.lastName || this.props.location.state.lastName,\n      mail: uInfo.data.email || this.props.location.state.email,\n      uid: uInfo.data.id || this.props.location.state.id,\n      submit: false,\n      selectedFile: null,\n      date: new Date(),\n      dataList: []\n    };\n    this.handleLogout = this.handleLogout.bind(this);\n  }\n\n  async getdata() {\n\n    // console.log(this.state.mail)\n    let gData = await getData(this.state.uid)\n    console.log(gData)\n    if (gData.data.success) {\n      this.setState({ dataList: gData.data.data })\n      this.setState({ submit: false })\n    }\n\n  }\n\n  async componentDidMount() {\n    this.getdata()\n\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    if (prevState.dataList !== this.state.dataList) {\n      this.setState({})\n    }\n    // console.log(prevState, this.state.dataList)\n  }\n\n  handleLogout = async () => {\n\n    let self = this;\n    let res = await axios.post(\"http://localhost:8000/signout\", {\n      email: this.state.mail,\n    });\n    if (res.data.success) {\n      // console.log(res.data.message);\n      localStorage.removeItem(\"token\")\n      Toast.fail(res.data.message, 500)\n      self.setState({\n        submit: true,\n        firstname: \"\",\n        lastname: \"\",\n        mail: \"\",\n      });\n      self.setState({ submit: true });\n    }\n  };\n\n\n\n  onFileUpload = async (ev) => {\n    ev.preventDefault();\n\n    // console.log(this.uploadInput.files.length)\n\n    const data = new FormData();\n\n    for (let i = 0; i < this.uploadInput.files.length; i++) {\n      data.append('file', this.uploadInput.files[i]);\n    }\n    data.append('email', this.state.mail)\n\n    let self = this\n    Toast.loading('Uploading file...')\n\n    let uploaddata = await uploadData(data)\n    console.log('$$$$$$$', uploaddata)\n    // console.log('$$$$$$$')\n\n    if (uploaddata.data.success) {\n      Toast.hide()\n      this.setState({ dataList: this.state.dataList })\n      document.getElementById(\"uploader\").value = \"\";\n      // setTimeout(function () { self.getdata() }, 5000);\n      self.getdata()\n    }\n\n  }\n\n  onDelete = async (item) => {\n    let user = {\n      email: this.state.mail,\n      delete: item\n    }\n    let updatedList = await deleteData(user)\n    if (updatedList.data.success) {\n      this.setState({ submit: false })\n      let gData = await getData(this.state.uid)\n      this.setState({ dataList: gData.data.data })\n    }\n  }\n\n  render() {\n    let uData = this.state.dataList\n\n    return (\n\n      <div>\n        <nav className=\"navbar navbar-expand-lg navbar-light fixed-top\">\n          <div className=\"container\" style={{ textTransform: \"uppercase\" }}>\n            <img src={process.env.PUBLIC_URL + '/aws-s3-icon.png'} style={{ blockSize: '1.5cm' }} alt='s3' />\n\n            Welcome &nbsp;{\" \"}\n            <b>\n              <i>{this.state.firstname}</i>\n            </b>\n            <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\n              <div className=\"navbar-nav ml-auto\">\n\n                <Popup trigger={<button className=\"btn btn-primary btn-block\">LOGOUT</button>} position=\"bottom left\" >\n                  <div style={{ textAlign: 'center' }}><i>ARE YOU SURE?</i></div>\n                  <div style={{ textAlign: 'center' }}><button className=\"btn btn-primary\" onClick={this.handleLogout} >Yes</button></div>\n                </Popup>\n\n              </div>\n            </div>\n          </div>\n        </nav>\n\n        <div className=\"profileHeader\" >\n          <form onSubmit={this.onFileUpload} >\n            <div>\n\n              UPLOAD FILE:{\" \"}\n              <input\n                type=\"file\"\n                multiple={true}\n                className=\"btn btn-primary \"\n                id=\"uploader\"\n                accept=\".png, .jpeg, .jpg, .pdf, .doc, .mp3\"\n                ref={(ref) => {\n                  this.uploadInput = ref;\n                }}\n              />\n\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n              <button className=\"btn btn-primary\">UPLOAD TO s3</button>\n            </div>\n          </form>\n          <br></br>\n          <br></br>\n          <div>\n            <div>\n              <Container fluid className=\"cont\">\n\n                <Row className=\"rowHead\">\n                  <Col ><b>FILE NAME</b></Col>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                  <Col ><b>FILE TYPE</b></Col>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                  <Col ><b>FILE SIZE</b></Col>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                  <Col ><b>UPLOADED ON</b></Col>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                  <Col><b>ACTION</b></Col>\n                </Row>\n\n                {uData.map((item, key) =>\n                  <Row className=\"rowData\">\n                    <Col >\n                      {item.ftype === 'jpeg' || 'png' ?\n                        <Popup trigger={<img src={item.file} style={{ blockSize: '1cm' }} alt={item.fType}></img>} on='hover' position=\"right top\">\n\n                          <img src={item.file} style={{ blockSize: '10cm', border: '0.2cm solid black' }} alt={item.fType}></img>\n                        </Popup> :\n                        (item.fType === 'pdf' || 'doc' ? <Popup trigger={<img src={item.file} style={{ blockSize: '1cm' }} alt={item.fType}></img>} on='hover' position=\"right top\">\n\n                          <img src={process.env.PUBLIC_URL + '/delete.png'} style={{ blockSize: '10cm', border: '0.2cm solid black' }} alt={item.fType}></img>\n                        </Popup> :\n                          <Popup trigger={<img src={item.file} style={{ blockSize: '1cm' }} alt={item.fType}></img>} on='hover' position=\"right top\">\n                            <img src={item.file} style={{ blockSize: '10cm', border: '0.2cm solid black' }} alt={item.fType}></img>\n                          </Popup>)}\n\n                      <span> {item.fName}</span></Col>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                    <Col > {item.fType}</Col>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                    <Col >{item.fSize}</Col>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                    <Col >{item.fDate}</Col>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                    <Col>\n                      <a href={item.file}>\n                        <img src={process.env.PUBLIC_URL + '/download.png'} style={{ blockSize: '0.5cm' }} alt='Download' /></a> &nbsp;&nbsp;\n                    <Popup trigger={<img src={process.env.PUBLIC_URL + '/delete.png'} id=\"overlay\" style={{ blockSize: '0.5cm' }} alt='Delete' />} on='hover' position=\"bottom right\" >\n                        <div style={{ textAlign: 'center' }}><i>ARE YOU SURE?</i></div>\n                        <div style={{ textAlign: 'center' }}><button className=\"btn btn-primary\" onClick={() => { this.onDelete(item.fName) }} >Yes</button></div>\n                      </Popup>\n                    </Col>\n                  </Row>\n                )}\n\n              </Container>\n\n            </div>\n          </div>\n        </div>\n        {this.state.submit ? <Redirect to={`/signin`} /> : null}\n      </div>\n    );\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}